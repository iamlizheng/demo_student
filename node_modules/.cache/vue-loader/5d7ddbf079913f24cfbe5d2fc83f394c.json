{"remainingRequest":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lizheng/Documents/学生管理系统/student_system/src/components/TurnPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lizheng/Documents/学生管理系统/student_system/src/components/TurnPage.vue","mtime":1587501267658},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bWFwU3RhdGUsIG1hcE11dGF0aW9ucywgbWFwQWN0aW9uc30gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIHBhZ2VMaXN0IDogMTAsCiAgICAgICAgICAgIC8vIGN1cnJlbnRQYWdlTnVtIDogNywKICAgICAgICAgICAgc2hvd1BhZ2UgOiA3CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkIDogewogICAgICAgIC4uLm1hcFN0YXRlKHsKICAgICAgICAgICAgcGFnZUxpc3QgOiAndG90YWxQYWdlJywKICAgICAgICAgICAgY3VycmVudFBhZ2VOdW0gOiAnY3VycmVudFBhZ2UnCiAgICAgICAgfSkKICAgIH0sCiAgICBtZXRob2RzIDogewogICAgICAgIC4uLm1hcE11dGF0aW9ucyhbJ3NldEN1cnJlbnRQYWdlJ10pLAogICAgICAgIC4uLm1hcEFjdGlvbnMoWydnZXRTdHVkZW50TGlzdCcsJ3R1cm5QYWdlJ10pLAogICAgICAgIGNoYW5nZVBhZ2UgKHBhZ2UpIHsKICAgICAgICAgICAgaWYgKHBhZ2UgPT09IHRoaXMuY3VycmVudFBhZ2VOdW0pIHsgcmV0dXJuOyB9CiAgICAgICAgICAgIGlmIChwYWdlID09PSAtMSAmJiB0aGlzLmN1cnJlbnRQYWdlTnVtID09PSAxKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSBpZiAocGFnZSA9PT0gMCAmJiB0aGlzLmN1cnJlbnRQYWdlTnVtID09PSB0aGlzLnBhZ2VMaXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAocGFnZSA9PT0gLTEgJiYgdGhpcy5jdXJyZW50UGFnZU51bSA+IDEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnR1cm5QYWdlKHRoaXMuY3VycmVudFBhZ2VOdW0gLTEpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwYWdlID09PSAwICYmIHRoaXMucGFnZUxpc3QgPiB0aGlzLmN1cnJlbnRQYWdlTnVtKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy50dXJuUGFnZSh0aGlzLmN1cnJlbnRQYWdlTnVtICsgMSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhZ2UgIT09IDAgJiYgcGFnZSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnR1cm5QYWdlKHBhZ2UpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBvcGVuUGFnZSAobnVtKSB7CiAgICAgICAgICAgIGxldCBmbGFnID0ge307CiAgICAgICAgICAgIGlmIChudW0gPT09IDApIHsKICAgICAgICAgICAgICAgIGZsYWcgPSB0aGlzLmN1cnJlbnRQYWdlTnVtIC0gNSA8PSAwID8gIHtudW0gOiAxLCBtb2RlIDogIui1i+WAvCJ9ICA6IHtudW0gOiAtNSwgbW9kZSA6ICLov5DnrpcifTsKICAgICAgICAgICAgfSBlbHNlIGlmICggbnVtID09PSAxKSB7CiAgICAgICAgICAgICAgICBmbGFnID0gdGhpcy5jdXJyZW50UGFnZU51bSArIDUgPiB0aGlzLnBhZ2VMaXN0IHx8IHRoaXMucGFnZUxpc3QgLSA1IDwgdGhpcy5jdXJyZW50UGFnZU51bSAgPyB7bnVtIDogdGhpcy5wYWdlTGlzdCwgbW9kZSA6ICLotYvlgLwifSA6IHtudW0gOiA1LCBtb2RlIDogIui/kOeulyJ9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChmbGFnLm1vZGUgPT09ICLotYvlgLwiKSB7CiAgICAgICAgICAgICAgICB0aGlzLnR1cm5QYWdlKGZsYWcubnVtKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChmbGFnLm1vZGUgPT09ICLov5DnrpciKSB7CiAgICAgICAgICAgICAgICB0aGlzLnR1cm5QYWdlKHRoaXMuY3VycmVudFBhZ2VOdW0gKyBmbGFnLm51bSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["TurnPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TurnPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"page\">\n        <ul class=\"page-ul\">\n            <li \n                :class=\"{'not-allowed': currentPageNum === 1}\" \n                class=\"page-li\" \n                @click=\"changePage(-1)\"\n            >\n                &lt;\n            </li>\n            <template  v-if=\"showPage > pageList\">\n                <li class=\"page-li\" \n                    v-for=\"page in pageList\" \n                    :key=\"page\"\n                    :class=\"{'page-active':currentPageNum === page}\"\n                    @click=\"changePage(page)\"\n                >\n                    {{page}}\n                </li>\n            </template>\n            <template v-else>\n                <!-- 1,2,3,4,5,6 -->\n                <template v-if=\"currentPageNum <= 4\">\n                    <li class=\"page-li\" \n                        v-for=\"page in 6\" \n                        :key=\"page\"\n                        :class=\"{'page-active':currentPageNum === page}\"\n                        @click=\"changePage(page)\"\n                    >\n                        {{page}}\n                    </li>\n                </template>\n                <!-- 1 ...  -->\n                <!-- v-if=\"currentPageNum > 4\" -->\n                <template v-else >\n                    <li \n                        class=\"page-li\"                     \n                        :class=\"{'page-active':currentPageNum === 1}\"\n                        @click=\"changePage(1)\"\n                    >1</li>\n                    <li class=\"page-li\" @click=\"openPage(0)\">...</li>\n                </template>\n                <!-- n-2,n-1,n,n+1,n+2 -->\n                <template v-if=\"currentPageNum >= 5 && currentPageNum < pageList - 3\">\n                    <li class=\"page-li\" \n                        v-for=\"page in 5\" \n                        :key=\"page\"\n                        :class=\"{'page-active': page === 3}\"\n                        @click=\"changePage(currentPageNum + page - 3)\"\n                    >\n                        {{currentPageNum + page - 3}}\n                    </li>\n                </template>\n                <!-- ... n -->\n                <template v-if=\"currentPageNum < pageList - 3\">\n                    <li class=\"page-li\" @click=\"openPage(1)\">...</li>\n                    <li \n                        class=\"page-li\"                     \n                        :class=\"{'page-active':currentPageNum === pageList}\"\n                        @click=\"changePage(pageList)\"\n                    >\n                        {{pageList}}\n                    </li>\n                </template>\n                <!-- n-5,n-4,n-3,n-2,n-1,n -->\n                <!-- v-if=\"currentPageNum >= pageList - 3\" -->\n                <template v-else>\n                    <li class=\"page-li\" \n                        v-for=\"page in 6\" \n                        :key=\"page\"\n                        :class=\"{'page-active':currentPageNum === pageList - 6 + page}\"\n                        @click=\"changePage(pageList - 6 + page)\"\n                    >\n                        {{pageList - 6 + page}}\n                    </li>\n                </template>\n            </template>\n                <li \n                    :class=\"{'not-allowed': currentPageNum === pageList}\" \n                    class=\"page-li\" \n                    @click=\"changePage(0)\"\n                >\n                    &gt;\n                </li>\n        </ul>\n    </div>\n</template>\n\n<script>\nimport {mapState, mapMutations, mapActions} from 'vuex'\n\nexport default {\n    data () {\n        return {\n            // pageList : 10,\n            // currentPageNum : 7,\n            showPage : 7\n        }\n    },\n    computed : {\n        ...mapState({\n            pageList : 'totalPage',\n            currentPageNum : 'currentPage'\n        })\n    },\n    methods : {\n        ...mapMutations(['setCurrentPage']),\n        ...mapActions(['getStudentList','turnPage']),\n        changePage (page) {\n            if (page === this.currentPageNum) { return; }\n            if (page === -1 && this.currentPageNum === 1) {\n                return;\n            } else if (page === 0 && this.currentPageNum === this.pageList) {\n                return;\n            } else {\n                if (page === -1 && this.currentPageNum > 1) {\n                    this.turnPage(this.currentPageNum -1);\n                } else if (page === 0 && this.pageList > this.currentPageNum) {\n                    this.turnPage(this.currentPageNum + 1);\n                } else if (page !== 0 && page !== -1) {\n                    this.turnPage(page);\n                }\n            }\n        },\n        openPage (num) {\n            let flag = {};\n            if (num === 0) {\n                flag = this.currentPageNum - 5 <= 0 ?  {num : 1, mode : \"赋值\"}  : {num : -5, mode : \"运算\"};\n            } else if ( num === 1) {\n                flag = this.currentPageNum + 5 > this.pageList || this.pageList - 5 < this.currentPageNum  ? {num : this.pageList, mode : \"赋值\"} : {num : 5, mode : \"运算\"};\n            }\n            if (flag.mode === \"赋值\") {\n                this.turnPage(flag.num);\n            } else if (flag.mode === \"运算\") {\n                this.turnPage(this.currentPageNum + flag.num);\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n.page {\n    display: flex;\n}\n.page-ul {\n    display:flex;\n    padding:10px 25px;\n}\n.page-li {\n    height:20px;\n    min-width:30px;\n    line-height:20px;\n    margin:0 3px;\n    font-weight: bolder;\n    text-align: center;\n    background-color:#f4f4f5;\n    color:#606266;\n    border-radius:2px;\n    cursor: pointer;\n}\n.page-li.page-active{\n    background-color:#409EFF;\n    color:#fff;\n    cursor:not-allowed;\n}\n.page-li.not-allowed{\n    cursor:not-allowed;\n}\n</style>"]}]}