{"remainingRequest":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lizheng/Documents/学生管理系统/student_system/src/components/StudentList.vue?vue&type=style&index=0&id=371e2a0e&scoped=true&lang=css&","dependencies":[{"path":"/Users/lizheng/Documents/学生管理系统/student_system/src/components/StudentList.vue","mtime":1587663843775},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1vZGFsLWxlYXZlLXRvLAoubW9kYWwtZW50ZXIgewogICAgLyogdG9wOjA7ICovCiAgICBoZWlnaHQ6MDsKICAgIG9wYWNpdHk6MDsKfQoubW9kYWwtZW50ZXItYWN0aXZlLAoubW9kYWwtbGVhdmUtYWN0aXZlIHsKICAgIHRyYW5zaXRpb246YWxsIC42czsKfQoubW9kYWwtbGVhdmUsCi5tb2RhbC1lbnRlci10byB7CiAgICAvKiB0b3A6MDsgKi8KICAgIGhlaWdodDoxMDAlOwogICAgb3BhY2l0eToxOwp9Cg=="},{"version":3,"sources":["StudentList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"student-list content\" id=\"student-list\">\n        <!-- 学生搜索 -->\n        <student-search></student-search>\n        <!-- 学生列表展示区域 -->\n        <table>\n            <thead>\n                <tr>\n                    <th>学号</th>\n                    <th>姓名</th>\n                    <th>性别</th>\n                    <th>邮箱</th>\n                    <th>出生年</th>\n                    <th>手机号</th>\n                    <th>住址</th>\n                    <th>操作</th>\n                </tr>\n            </thead>\n            <tbody id=\"table-body\">\n                <tr v-for=\"student in studentList\" :key=\"student.id\">\n                    <td>{{ student.sNo }}</td>\n                    <td>{{ student.name }}</td>\n                    <td>{{ student.sex ? '女' : '男' }}</td>\n                    <td>{{ student.email }}</td>\n                    <td>{{ student.birth }}</td>\n                    <td>{{ student.phone }}</td>\n                    <td>{{ student.address }}</td>\n                    <td>\n                        <button class=\"btn edit\" @click=\"editStu(student)\">编辑</button>\n                        <button class=\"btn del\" @click=\"delStu(student)\">删除</button>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <!-- 翻页区 -->\n        <turn-page></turn-page>\n        <!--  编辑弹框区域  -->\n        <transition name=\"modal\">\n            <student-modal v-if=\"showModal\" />\n        </transition>\n    </div>\n</template>\n\n<script>\nimport StudentModal from '@/components/StudentModal'\nimport StudentSearch from '@/components/StudentSearch'\nimport TurnPage from '@/components/TurnPage'\n\nimport {mapActions, mapState, mapMutations} from 'vuex'\n\n\nexport default {\n    created () {\n        this.$api.logStatus();\n        this.getStuList();\n    },\n    computed : {\n        ...mapState({\n            studentList : 'list',\n            totalPage : 'totalPage',\n            showModal : 'showModal',\n            currentPage : 'currentPage',\n            loginStatus :'loginStatus'\n        })\n    },\n    methods : {\n        getStuList () {\n            this.getStudentList()\n        //     .then(res => {\n        //     res.duration = 1000;\n        //     res.msg = '学生列表更新成功！'\n        //     this.$toast(res);\n        // });\n        },\n        editStu (studentInfo) {\n            this.setEditStudentInfo(studentInfo);\n            this.setShowModal(true);\n        },\n        delStu (student) {\n            const flag = window.confirm(`请确认是否删除姓名：[${student.name}]，学号：[${student.sNo}]的学生信息?`);\n            if(flag){\n                this.$api.delStu(student.sNo).then( res => {\n                    if ( this.studentList.length === 1 && this.currentPage !== 1) {\n                        this.turnPage(this.currentPage - 1 )\n                    }\n                    this.$toast({\n                        msg : res.data.msg,\n                        type : res.data.status,\n                        callback : this.getStuList\n                    })\n                })\n            } else {\n                this.$toast({\n                    msg : '操作已取消',\n                    type : 'info',\n                    duration : 1000\n                })\n            }\n        },\n        ...mapActions(['getStudentList','turnPage']),\n        ...mapMutations(['setShowModal','setEditStudentInfo'])\n    },\n    components : {\n        StudentModal,\n        StudentSearch,\n        TurnPage\n    },\n}\n</script>\n\n<style scoped>\n.modal-leave-to,\n.modal-enter {\n    /* top:0; */\n    height:0;\n    opacity:0;\n}\n.modal-enter-active,\n.modal-leave-active {\n    transition:all .6s;\n}\n.modal-leave,\n.modal-enter-to {\n    /* top:0; */\n    height:100%;\n    opacity:1;\n}\n</style>"]}]}