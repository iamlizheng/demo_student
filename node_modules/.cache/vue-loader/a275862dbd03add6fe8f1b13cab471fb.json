{"remainingRequest":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lizheng/Documents/学生管理系统/student_system/src/components/StudentAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lizheng/Documents/学生管理系统/student_system/src/components/StudentAdd.vue","mtime":1587663902378},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lizheng/Documents/学生管理系统/student_system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBjcmVhdGVkICgpIHsKICAgICAgICAgICAgdGhpcy4kYXBpLmxvZ1N0YXR1cygpOwogICAgICAgIH0sCiAgICBkYXRhICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdHVkZW50IDogewogICAgICAgICAgICAgICAgbmFtZSA6ICcnLAogICAgICAgICAgICAgICAgc2V4IDogMCwKICAgICAgICAgICAgICAgIHNObyA6ICcnLAogICAgICAgICAgICAgICAgZW1haWwgOiAnJywKICAgICAgICAgICAgICAgIGJpcnRoIDogJycsCiAgICAgICAgICAgICAgICBwaG9uZSA6ICcnLAogICAgICAgICAgICAgICAgYWRkcmVzcyA6ICcnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kcyA6IHsKICAgICAgICBhZGRTdHUgKCkgewogICAgICAgICAgICBpZiAoIHRoaXMuY2hlY2tJbnB1dFZhbHVlKCkpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGFwaS5hZGRTdHUodGhpcy5zdHVkZW50KS50aGVuKCByZXMgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgbXNnIDogcmVzLmRhdGEubXNnLAogICAgICAgICAgICAgICAgICAgICAgICB0eXBlIDogcmVzLmRhdGEuc3RhdHVzLAogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA6IHRoaXMucmVzZXRGb3JtCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0pLmNhdGNoKCBlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgICAgICAgIH0gKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgICAgICAgICAgIG1zZyA6ICfor7floavlhpnlrozmlbTnmoTkv6Hmga/vvIEnLAogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAnZmFpbCcsCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IAogICAgICAgIH0sCiAgICAgICAgcmVzZXRGb3JtICh7dHlwZX0pIHsKICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzdWNjZXNzJykgewogICAgICAgICAgICAgICAgY29uc3QgZmxhZyA9IHdpbmRvdy5jb25maXJtKCfmmK/lkKbmuIXnqbrlvZPliY3ooajljZXkv6Hmga/vvJ/pgInmi6k6W+ehruWuml3liJnmuIXnqbrlubbot7PovazlrabnlJ/liJfooajvvIzpgInmi6k6W+WPlua2iF3liJnkuI3mk43kvZzlubbnlZnlnKjlvZPliY3pobXvvIEnKQogICAgICAgICAgICAgICAgaWYgKGZsYWcpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0dWRlbnQgPSB7c2V4IDogMH07CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zdHVkZW50TGlzdCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjaGVja0lucHV0VmFsdWUgKCkgewogICAgICAgICAgICBjb25zdCBvYmogPSB0aGlzLnN0dWRlbnQ7CiAgICAgICAgICAgIGxldCBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBvYmopIHsKICAgICAgICAgICAgICAgIGlmKHByb3AgIT09ICJzZXgiICYmIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSl7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZmxhZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gIAogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmbGFnOwogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["StudentAdd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StudentAdd.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <!-- 新增学生展示区域 -->\n    <div class=\"add-student content\" id=\"add-student\">\n        <form id=\"add-student-form\">\n            <div>\n                <label for=\"name\" autofocus>姓名</label>\n                <input type=\"text\" id=\"name\" name=\"name\" v-model=\"student.name\" maxlength=\"5\" required>\n            </div>\n            <div>\n                <label for=\"\">性别</label>\n                <input type=\"radio\" name=\"sex\" id=\"male\" value=\"0\" checked  v-model=\"student.sex\">\n                <label for=\"male\" class=\"label-sex\">男</label>\n                <input type=\"radio\" name=\"sex\" id=\"female\" value=\"1\" v-model=\"student.sex\">\n                <label for=\"female\" class=\"label-sex\">女</label>\n            </div>\n            <div>\n                <label for=\"sNo\">学号</label>\n                <input type=\"text\" id=\"sNo\" name=\"sNo\" v-model=\"student.sNo\" maxlength=\"8\" minlength=\"8\" required>\n            </div>\n            <div>\n                <label for=\"email\">邮箱</label>\n                <input type=\"text\" id=\"email\" name=\"email\" v-model=\"student.email\" required>\n            </div>\n            <div>\n                <label for=\"birth\">出生年</label>\n                <input type=\"text\" id=\"birth\" name=\"birth\" v-model=\"student.birth\" maxlength=\"4\" required>\n            </div>\n            <div>\n                <label for=\"phone\">手机号</label>\n                <input type=\"text\" id=\"phone\" name=\"phone\" v-model=\"student.phone\" maxlength=\"11\" minlength=\"11\" required>\n            </div>\n            <div>\n                <label for=\"address\">住址</label>\n                <input type=\"text\" id=\"address\" name=\"address\" v-model=\"student.address\" maxlength=\"8\" required>\n            </div>\n            <div>\n                <label for=\"\"></label>\n                <input type=\"submit\" class=\"btn\" id=\"add-student-btn\" @click.prevent=\"addStu\">\n                <input type=\"reset\" class=\"btn\">\n            </div>\n        </form>\n    </div>\n</template>\n\n<script>\nexport default {\n        created () {\n            this.$api.logStatus();\n        },\n    data () {\n        return {\n            student : {\n                name : '',\n                sex : 0,\n                sNo : '',\n                email : '',\n                birth : '',\n                phone : '',\n                address : ''\n            }\n        }\n    },\n    methods : {\n        addStu () {\n            if ( this.checkInputValue()) {\n                this.$api.addStu(this.student).then( res => {\n                    this.$toast({\n                        msg : res.data.msg,\n                        type : res.data.status,\n                        callback : this.resetForm\n                    })\n                }).catch( err => {\n                    // console.log(err)\n                } )\n            } else {\n                this.$toast({\n                    msg : '请填写完整的信息！',\n                    type : 'fail',\n                })\n            } \n        },\n        resetForm ({type}) {\n            if (type === 'success') {\n                const flag = window.confirm('是否清空当前表单信息？选择:[确定]则清空并跳转学生列表，选择:[取消]则不操作并留在当前页！')\n                if (flag) {\n                    this.student = {sex : 0};\n                    this.$router.push('/studentList');\n                }\n            }\n        },\n        checkInputValue () {\n            const obj = this.student;\n            let flag = true;\n            for (let prop in obj) {\n                if(prop !== \"sex\" && obj.hasOwnProperty(prop)){\n                    if (obj[prop].length === 0) {\n                        flag = false;\n                    }\n                }  \n            }\n            return flag;\n        }\n    }\n}\n</script>"]}]}